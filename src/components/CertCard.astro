---
/**
 * Props:
 * - title: string
 * - imgSrc: string
 * - imgAlt: string
 * - moreUrl: string
 * - summary: string
 */
const { title, imgSrc, imgAlt, moreUrl, summary } = Astro.props;
---
<article class="card">
  <h3 class="title">{title}</h3>

  <a class="image-wrap" href={moreUrl} target="_blank" rel="noopener noreferrer" aria-label={`Open official page for ${title}`}>
    <img src={imgSrc} alt={imgAlt} class="image" />
    <span class="breath" aria-hidden="true"></span>
  </a>

  <p class="desc">{summary}</p>
</article>

<style>
  .card{
    --glass: rgba(10,14,16,.55);
    --border: rgba(var(--accent) / .28);

    display:grid; gap:.75rem;
    padding:1rem;
    border:1px solid var(--border);
    border-radius:14px;
    background:var(--glass);
    backdrop-filter: blur(6px);
    box-shadow: 0 0 26px rgba(var(--accent) / .08), inset 0 0 20px rgba(0 0 0 / .35);
  }

  .title{
    font-family: var(--font-orbitron,'Orbitron',ui-sans-serif,system-ui);
    font-weight:700; font-size:1rem; letter-spacing:.3px;
    margin:0 .2rem;
  }

  .image-wrap{
    position:relative; display:block;
    border-radius:12px; overflow:clip;
    border:1px solid rgba(var(--accent) / .35);
    background: rgba(255 255 255 / .02);
    transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease, background .18s ease;
  }

  .image{ display:block; width:100%; height:auto; object-fit:cover; }

  /* Breathing neon line under the image */
  .breath{
    position:absolute; left:0; right:0; bottom:0; height:3px;
    background: linear-gradient(90deg,
      rgba(var(--accent) / 0) 0%,
      rgba(var(--accent) / .85) 15%,
      rgba(var(--accent) / .35) 50%,
      rgba(var(--accent) / .85) 85%,
      rgba(var(--accent) / 0) 100%);
    filter: drop-shadow(0 0 6px rgba(var(--accent) / .7));
    animation: breathe 2.4s ease-in-out infinite;
  }
  @keyframes breathe{
    0%{ opacity:.35; transform:scaleX(.92); }
    50%{ opacity:.95; transform:scaleX(1); }
    100%{ opacity:.35; transform:scaleX(.92); }
  }

  .image-wrap:hover, .image-wrap:focus-visible{
    transform: translateY(-2px);
    border-color: rgba(var(--accent) / .75);
    box-shadow: 0 0 22px rgba(var(--accent) / .28);
    background: rgba(var(--accent) / .05);
    outline:none;
  }

  .desc{
    margin:.2rem .2rem 0;
    font-family: var(--font-mono,'JetBrains Mono',ui-monospace,monospace);
    font-size:.92rem; line-height:1.45; color:#E9E6FF; opacity:.92;
  }
</style>
